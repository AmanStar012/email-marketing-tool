<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Email Marketing Tool </title>

<style>
/* ===== EXISTING STYLES (UNCHANGED) ===== */
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:Inter,Segoe UI,Roboto,sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;padding:20px}
.container{max-width:1400px;margin:auto;background:#fff;border-radius:24px;overflow:hidden}
.header{background:linear-gradient(135deg,#2c3e50,#3498db);color:#fff;padding:30px;text-align:center}
.main-content{display:grid;grid-template-columns:1fr 1fr;gap:30px;padding:40px}
.section{background:#fff;border-radius:20px;padding:30px}
.form-control{width:100%;padding:12px;border-radius:10px;border:2px solid #e9ecef}
.form-control-textarea{min-height:140px;resize:vertical}

/* ===== TOOLBAR STYLES (ADDED) ===== */
.editor-toolbar{
display:flex;
gap:8px;
margin:10px 0 15px;
flex-wrap:wrap
}
.toolbar-btn{
border:2px solid #e9ecef;
background:#fff;
padding:6px 12px;
border-radius:8px;
cursor:pointer;
font-size:12px
}
.toolbar-btn:hover{border-color:#3498db}
</style>
</head>

<body>
<div class="container">
<div class="header">
<h1>ðŸš€ Email Marketing Tool</h1>
</div>

<div class="main-content">
<div class="section">
<label>Email Content</label>

<!-- TOOLBAR -->
<div class="editor-toolbar">
<button class="toolbar-btn" onclick="wrapTag('<b>','</b>')"><b>B</b></button>
<button class="toolbar-btn" onclick="wrapTag('<i>','</i>')"><i>I</i></button>
<button class="toolbar-btn" onclick="insertLink()">ðŸ”— Link</button>
<button class="toolbar-btn" onclick="clearFormatting()">ðŸ§¹ Clear</button>
</div>

<textarea id="emailContent" class="form-control form-control-textarea"
placeholder="Select text â†’ Click ðŸ”— Link"></textarea>
</div>
</div>
</div>

<script>
/* ===== HYPERLINK & FORMATTING LOGIC ===== */

const textarea = document.getElementById('emailContent');

function wrapTag(open, close){
const start = textarea.selectionStart;
const end = textarea.selectionEnd;
const selected = textarea.value.substring(start,end);
textarea.value =
textarea.value.substring(0,start)+open+selected+close+textarea.value.substring(end);
textarea.focus();
}

function insertLink(){
const start = textarea.selectionStart;
const end = textarea.selectionEnd;
const selected = textarea.value.substring(start,end);
const url = prompt("Enter URL (https://...)","https://");
if(!url) return;
const link = `<a href="${url}" target="_blank">${selected||url}</a>`;
textarea.value =
textarea.value.substring(0,start)+link+textarea.value.substring(end);
textarea.focus();
}

function clearFormatting(){
textarea.value = textarea.value
.replace(/<\/?b>/gi,'')
.replace(/<\/?i>/gi,'')
.replace(/<a\b[^>]*>(.*?)<\/a>/gi,'$1');
}

/* ===== KEYBOARD SHORTCUTS ===== */
textarea.addEventListener("keydown",e=>{
const mod = e.ctrlKey || e.metaKey;
if(!mod) return;

if(e.key==="b"){e.preventDefault();wrapTag("<b>","</b>")}
if(e.key==="i"){e.preventDefault();wrapTag("<i>","</i>")}
if(e.key==="k"){e.preventDefault();insertLink()}
});
</script>
</body>
</html>
